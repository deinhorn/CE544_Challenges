<!DOCTYPE HTML>

<!--
   Super basic HTML code to demostrate using a Photon variable
   Uses a JSON request to show RSSI value of Xbee exposed by Photon
   Emily Lam, EC544, Fall 2016
-->

<html>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  <body>

      <center><P style="font-size:28px">RSSI Value: <span id="rssi"></span><br></center>

      <script type="text/javascript">
        var deviceID    = "3a0025000b47353235303037";     // Replace DeviceID with your Photon ID
        var accessToken = "823db2a0729b45a4cf85a1d9cf73deeb8b00b6ab";  // Replace AccessToken with your access token
        var getVar = "RSSIvalue";
        window.setInterval(function() {
          requestURL = "https://api.particle.io/v1/devices/" + deviceID + "/" + getVar + "?access_token=" + accessToken;
          $.getJSON(requestURL, function(json) {
                   document.getElementById("rssi").innerHTML = json.result;
                   document.getElementById("rssi").style.fontSize = "28px";
                   document.getElementById("rssi").style.color = "blue";
                   });
        }, 1000);
      </script>
  </body>
</html>
